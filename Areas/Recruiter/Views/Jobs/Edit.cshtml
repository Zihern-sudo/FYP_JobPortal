@model JobPortal.Areas.Recruiter.Models.JobEditVm
@{
  ViewData["Title"] = "Edit Job";
}

<form asp-area="Recruiter" asp-controller="Jobs" asp-action="Edit" method="post">
  @Html.AntiForgeryToken()
  <input type="hidden" asp-for="job_listing_id" />

  <!-- Status (keep whatever UI you already had; this is just an example) -->
  <div class="mb-3">
    <label asp-for="job_status" class="form-label"></label>
    <select asp-for="job_status" class="form-select"
      asp-items="Html.GetEnumSelectList<JobPortal.Areas.Recruiter.Models.JobStatus>()"></select>
    <span asp-validation-for="job_status" class="text-danger"></span>
  </div>

  <!-- Title display (if you keep it read-only) -->
  <div class="mb-3">
    <label asp-for="job_title" class="form-label">Job Title</label>
    <input asp-for="job_title" class="form-control" />
    <span asp-validation-for="job_title" class="text-danger"></span>
  </div>

  <!-- ✅ EDITABLE: Job Description -->
  <div class="mb-3">
    <label asp-for="job_description" class="form-label">Job Description</label>
    <textarea asp-for="job_description" class="form-control" rows="5"
      placeholder="Describe the role, responsibilities, team, tech stack, etc."></textarea>
    <span asp-validation-for="job_description" class="text-danger"></span>
  </div>

  <!-- ✅ EDITABLE: Must-have Requirements -->
  <div class="mb-3">
    <label asp-for="job_requirements" class="form-label">Must-have Requirements</label>
    <textarea asp-for="job_requirements" class="form-control" rows="4"
      placeholder="e.g., ASP.NET Core, SQL, EF Core"></textarea>
    <span asp-validation-for="job_requirements" class="text-danger"></span>
  </div>

  <!-- ✅ EDITABLE: Nice-to-have Requirements -->
  <div class="mb-3">
    <label asp-for="job_requirements_nice" class="form-label">Nice-to-have Requirements</label>
    <textarea asp-for="job_requirements_nice" class="form-control" rows="3"
      placeholder="e.g., Azure, CI/CD, Docker"></textarea>
    <span asp-validation-for="job_requirements_nice" class="text-danger"></span>
  </div>

  <!-- Optional: Posted date display (still read-only) -->
  <div class="mb-3">
    <label class="form-label">Posted</label>
    <input class="form-control" value="@Model.date_posted?.ToString("yyyy-MM-dd HH:mm")" readonly />
  </div>

  <div class="d-flex gap-2">
    <button type="submit" class="btn btn-primary">Save Changes</button>
    <!-- If you have quick status buttons, keep them -->
    <button type="submit" name="setStatus" value="Open" class="btn btn-success">Set Open</button>
    <button type="submit" name="setStatus" value="Paused" class="btn btn-warning">Set Paused</button>
    <button type="submit" name="setStatus" value="Closed" class="btn btn-secondary">Set Closed</button>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
  </div>
</form>